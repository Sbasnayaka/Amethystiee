<!DOCTYPE html>
<html class="dark" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Science: The Visible Spectrum</title>
<link rel="icon" href="assets/logo.png" />
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#7311d4",
                        "accent-cyan": "#00f0ff",
                        "accent-magenta": "#ff00aa",
                        "background-light": "#f7f6f8",
                        "background-dark": "#0a0112", 
                    },
                    fontFamily: {
                        "display": ["Space Grotesk", "sans-serif"],
                        "body": ["Space Grotesk", "sans-serif"]
                    },
                    borderRadius: {"DEFAULT": "1rem", "lg": "2rem", "xl": "3rem", "full": "9999px"},
                    backgroundImage: {
                        'spectrum': 'linear-gradient(to right, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3)',
                        'grid-pattern': 'linear-gradient(to right, rgba(255,255,255,0.05) 1px, transparent 1px), linear-gradient(to bottom, rgba(255,255,255,0.05) 1px, transparent 1px)'
                    }
                },
            },
        }
    </script>
<style>
        .text-glow {
            text-shadow: 0 0 20px rgba(168, 85, 247, 0.5), 0 0 40px rgba(115, 17, 212, 0.3);
        }
        .text-glow-cyan {
            text-shadow: 0 0 10px rgba(0, 240, 255, 0.5), 0 0 20px rgba(0, 240, 255, 0.3);
        }
        .text-glow-magenta {
            text-shadow: 0 0 10px rgba(255, 0, 170, 0.5), 0 0 20px rgba(255, 0, 170, 0.3);
        }
        .glass-panel {
            background: rgba(19, 11, 27, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }
        .prism-beam {
            background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.8) 50%, rgba(255,255,255,0) 100%);
            clip-path: polygon(0 45%, 100% 45%, 100% 55%, 0 55%);
        }
        .spectrum-dispersion {
            background: conic-gradient(from 180deg at 50% 100%, #ff0000, #ffff00, #00ff00, #00ffff, #0000ff, #ff00ff, #ff0000);
            filter: blur(40px);
            opacity: 0.3;
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0a0112; 
        }
        ::-webkit-scrollbar-thumb {
            background: #332545; 
            border-radius: 4px;
        }
        .microbe {
            animation: float 10s infinite ease-in-out;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        /* small extras for experiment & modal & toast */
        #experiment-controls input[type="range"] { -webkit-appearance: none; appearance: none; height: 8px; border-radius: 999px; background: rgba(255,255,255,0.08); }
        #experiment-controls input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 18px; height: 18px; border-radius: 50%; background: white; box-shadow: 0 0 10px rgba(0,0,0,0.3); cursor: pointer; }
        .modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.6); display: none; align-items: center; justify-content: center; z-index: 60; }
        .modal { width: 100%; max-width: 900px; background: rgba(10,6,16,0.95); border-radius: 1rem; padding: 20px; color: white; border: 1px solid rgba(255,255,255,0.06); }
        .toast { position: fixed; right: 20px; bottom: 20px; background: rgba(0,0,0,0.75); color: white; padding: 10px 14px; border-radius: 10px; display: none; z-index: 80; }
        .breath-circle { width: 160px; height: 160px; border-radius: 50%; background: radial-gradient(circle at 30% 30%, rgba(115,17,212,0.25), rgba(115,17,212,0.08)); display:flex; align-items:center; justify-content:center; }
        .breath-animate { animation: breath 4s ease-in-out infinite; }
        @keyframes breath { 0% { transform: scale(0.85); opacity: 0.8 } 50% { transform: scale(1.12); opacity: 1 } 100% { transform: scale(0.85); opacity: 0.8 } }
</style>
</head>
<body class="bg-background-light dark:bg-background-dark text-white font-display overflow-x-hidden selection:bg-primary selection:text-white">
<div class="fixed inset-0 pointer-events-none z-0 overflow-hidden">
<div class="absolute inset-0 bg-grid-pattern bg-[size:40px_40px] opacity-20"></div>
<div class="absolute top-[-20%] right-[-10%] w-[800px] h-[800px] bg-primary/20 rounded-full blur-[120px] mix-blend-screen animate-pulse duration-[8s]"></div>
<div class="absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-blue-900/20 rounded-full blur-[100px] mix-blend-screen"></div>
</div>
<div class="relative z-10 flex flex-col min-h-screen">
<div class="w-full flex justify-center px-4 pt-6 fixed top-0 z-50">
<header class="flex items-center justify-between w-full max-w-[960px] h-16 px-6 rounded-full border border-white/10 bg-[#130b1b]/60 backdrop-blur-xl shadow-[0_4px_30px_rgba(0,0,0,0.1)]">
<div class="flex items-center gap-3">
<div class="size-8 flex items-center justify-center">
  <img src="assets/logo.png" alt="Logo" class="h-8 w-8" />
</div>
<span class="text-white text-lg font-bold tracking-tight">Amethystiee</span>
</div>
<nav class="hidden md:flex items-center gap-8">
<a class="text-sm font-medium text-white/70 hover:text-white transition-colors hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]" href="index.html">Home</a>
<a class="text-sm font-medium text-white/70 hover:text-white transition-colors hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]" href="discovery.html">Discovery</a>
<a class="text-sm font-medium text-white/70 hover:text-white transition-colors hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]" href="shade.html">Spectral</a>
<a class="text-sm font-medium text-white/70 hover:text-white transition-colors hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]" href="origin.html">Origins</a>
<a class="text-sm font-medium text-white/70 hover:text-white transition-colors hover:drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]" href="me.html">Me</a>
</nav>
<button onclick="window.location.href='shh.html'" class="hidden md:flex items-center justify-center h-9 px-5 rounded-full bg-primary hover:bg-primary/90 text-white text-xs font-bold uppercase tracking-wider transition-all shadow-[0_0_15px_rgba(115,17,212,0.4)] hover:shadow-[0_0_25px_rgba(115,17,212,0.6)] focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-[#130b1b]">
                    ⋆˚꩜｡
                </button>
<button class="md:hidden text-white">
<span class="material-symbols-outlined">menu</span>
</button>
</header>
</div>
<main class="flex-grow flex flex-col items-center pt-32 pb-10 px-4 md:px-8">
<div class="w-full max-w-[1200px] flex flex-col items-center gap-16 md:gap-24">
<div class="flex flex-col items-center text-center gap-6 mt-8 w-full relative">
<div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[400px] z-[-1] opacity-60 pointer-events-none">
<div class="w-full h-1 bg-white shadow-[0_0_20px_white] rotate-[-5deg] absolute top-1/2 left-0 right-1/2 opacity-50"></div>
<div class="w-1/2 h-full absolute right-0 top-0 bg-gradient-to-r from-white/0 via-primary/20 to-violet-900/60 blur-3xl rounded-full"></div>
<div class="absolute top-1/2 left-1/2 w-4 h-4 bg-white rounded-full blur-[2px] shadow-[0_0_40px_white]"></div>
</div>
<h1 class="text-5xl md:text-8xl font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-white via-white to-primary/80 drop-shadow-[0_0_30px_rgba(115,17,212,0.5)]">
                        VISIBLE SPECTRUM
                    </h1>
<p class="text-xl md:text-2xl text-white/80 font-light italic max-w-2xl mx-auto border-l-2 border-primary pl-6 py-2 bg-gradient-to-r from-primary/10 to-transparent">
                        "Purple lives in our heads — a beautiful mix the eye and brain create."
                    </p>
</div>

<!-- Intro and call-to-actions -->
<div class="glass-panel p-8 md:p-12 rounded-3xl max-w-4xl w-full text-center relative overflow-hidden group">
<div class="absolute inset-0 bg-gradient-to-br from-primary/10 to-transparent opacity-50 group-hover:opacity-100 transition-opacity duration-700"></div>
<span class="material-symbols-outlined text-6xl text-white/20 mb-6 block">psychology</span>
<h2 class="text-2xl md:text-3xl font-bold mb-4">The Brain's Masterpiece</h2>
<p class="text-white/70 text-lg leading-relaxed max-w-3xl mx-auto">
    Light is a band of many wavelengths. Rainbows show single wavelengths, from red to violet. Pure violet sits at the edge of the rainbow. But “purple” does not appear as one wavelength. Instead, purple is a mix — our brain joins red and blue signals and creates the feeling of purple. That is why purple is special: it is both physics and perception.
</p>

</div>

<!-- Violet vs Purple & Cone demonstration -->
<div class="grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-5xl">
<div class="glass-panel p-8 rounded-[2rem] flex flex-col gap-6 relative overflow-hidden border-l-4 border-l-blue-500">
<div class="absolute top-0 right-0 p-4 opacity-10">
<span class="material-symbols-outlined text-8xl">waves</span>
</div>
<div>
<h3 class="text-3xl font-bold text-white mb-1">Violet</h3>
<span class="text-xs font-mono text-cyan-300 bg-cyan-900/30 px-2 py-1 rounded">~380nm - 450nm</span>
</div>
<p class="text-white/60 text-sm leading-relaxed">
    A true spectral color. It has its own specific wavelength at the very edge of visible light, just before ultraviolet. It exists physically in nature in rainbows and prisms.
</p>
<div class="relative w-full h-40 rounded-xl overflow-hidden mt-auto">
<img alt="Natural violet amethyst structure" class="w-full h-full object-cover opacity-80 hover:scale-110 transition-transform duration-700" src="https://lh3.googleusercontent.com/aida-public/AB6AXuB2zg0tIi66N7jHKp1D-OqOHCOrgsvtf6t56RLdwRdw4oL_xiytaTqsAtecj3uMPXRuFnrErR7AZfsA-zzO4kuxI2luC5nG2rCw35LudHtai5B0CvR5q8ERWbvUur47NFlCc0oWLFRvkgPnFrPULplFAtT24zW6UCe1K7NgznaFvjoQlbAOWsxZwCoDIcJZ8Cauy8InntS0NBfMfukRs95zoBrbm42szVH4mvWAr_dz-aykgXtf4uo9-0KbBSjnFuh5yG0Q61TYwXw"/>
<div class="absolute inset-0 bg-gradient-to-t from-[#130b1b] to-transparent"></div>
<span class="absolute bottom-2 left-4 text-xs text-white/80 font-mono">FIG 1.0: PHYSICAL REFRACTION</span>
</div>
</div>

<div class="glass-panel p-8 rounded-[2rem] flex flex-col gap-6 relative overflow-hidden border-l-4 border-l-accent-magenta">
<div class="absolute top-0 right-0 p-4 opacity-10">
<span class="material-symbols-outlined text-8xl">auto_awesome</span>
</div>
<div>
<h3 class="text-3xl font-bold text-white mb-1">Purple</h3>
<span class="text-xs font-mono text-fuchsia-300 bg-fuchsia-900/30 px-2 py-1 rounded">Non-Spectral</span>
</div>
<p class="text-white/60 text-sm leading-relaxed">
    A non-spectral color. There is no "purple" wavelength. It is a perception created when both Red (long wave) and Blue (short wave) cone cells fire simultaneously, but Green is silent.
</p>
<div class="relative w-full h-40 rounded-xl bg-black/40 border border-white/5 flex items-center justify-center mt-auto">
<div class="flex items-center gap-4">
<div class="size-12 rounded-full bg-red-600 blur-md animate-pulse"></div>
<span class="text-2xl font-bold text-white/50">+</span>
<div class="size-12 rounded-full bg-blue-600 blur-md animate-pulse" style="animation-delay: 0.5s"></div>
<span class="text-2xl font-bold text-white/50">=</span>
<div class="size-16 rounded-full bg-purple-600 blur-xl shadow-[0_0_30px_rgba(147,51,234,0.8)] w-20 h-20 rounded-full"></div>
</div>
<span class="absolute bottom-2 left-4 text-xs text-white/80 font-mono">FIG 2.0: NEURAL SYNTHESIS</span>
</div>
</div>
</div>

<!-- Trichromacy / cones -->
<div class="w-full max-w-4xl mt-8">
<div class="glass-panel p-8 md:p-10 rounded-3xl relative">
<div class="flex flex-col md:flex-row items-center justify-between gap-10">
<div class="flex flex-col gap-4 max-w-xs">
<div class="flex items-center gap-3 text-accent-cyan">
<span class="material-symbols-outlined">visibility</span>
<h3 class="text-xl font-bold uppercase tracking-widest">Trichromacy</h3>
</div>
<p class="text-white/60 text-sm">
    Your retina has three types of cone cells. Purple happens when the extremes (Red & Blue) agree, bypassing the middle (Green).
</p>
</div>
<div class="flex-grow flex justify-center items-end h-[200px] gap-4 md:gap-8 relative pb-8">
<div class="group flex flex-col items-center gap-2 relative z-10 cursor-pointer">
<div class="w-12 md:w-16 bg-blue-500/20 border border-blue-500 rounded-t-full h-[120px] relative overflow-hidden group-hover:bg-blue-500/40 transition-all duration-300">
<div class="absolute bottom-0 left-0 right-0 h-[80%] bg-blue-500 blur-xl opacity-60 group-hover:opacity-100 transition-opacity"></div>
<div class="absolute inset-0 flex items-end justify-center pb-2">
<span class="material-symbols-outlined text-white drop-shadow-md">bolt</span>
</div>
</div>
<span class="text-xs font-mono text-blue-300">S-Cone (Blue)</span>
</div>
<div class="group flex flex-col items-center gap-2 relative z-10 opacity-30 hover:opacity-100 transition-opacity">
<div class="w-12 md:w-16 bg-green-500/10 border border-green-500/50 rounded-t-full h-[150px] relative overflow-hidden">
<div class="absolute bottom-0 left-0 right-0 h-[20%] bg-green-500 blur-xl opacity-20"></div>
</div>
<span class="text-xs font-mono text-green-300">M-Cone (Green)</span>
</div>
<div class="group flex flex-col items-center gap-2 relative z-10 cursor-pointer">
<div class="w-12 md:w-16 bg-red-500/20 border border-red-500 rounded-t-full h-[120px] relative overflow-hidden group-hover:bg-red-500/40 transition-all duration-300">
<div class="absolute bottom-0 left-0 right-0 h-[80%] bg-red-500 blur-xl opacity-60 group-hover:opacity-100 transition-opacity"></div>
<div class="absolute inset-0 flex items-end justify-center pb-2">
<span class="material-symbols-outlined text-white drop-shadow-md">bolt</span>
</div>
</div>
<span class="text-xs font-mono text-red-300">L-Cone (Red)</span>
</div>
<div class="absolute top-0 left-[20%] right-[20%] h-10 border-t-2 border-dashed border-accent-magenta rounded-[50%] z-0 animate-pulse"></div>
<div class="absolute top-[-20px] left-1/2 -translate-x-1/2 text-accent-magenta font-bold text-glow-magenta animate-bounce">
    PURPLE SIGNAL
</div>
</div>
</div>
</div>

<!-- Physics of color -->
<div class="w-full max-w-5xl mt-8">
<div class="flex items-center gap-4 mb-8">
<div class="h-px bg-white/20 flex-grow"></div>
<h2 class="text-2xl font-bold tracking-widest uppercase text-white/80">Physics of Color</h2>
<div class="h-px bg-white/20 flex-grow"></div>
</div>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div class="glass-panel p-6 rounded-2xl border border-white/5 relative bg-[#000000]/50">
<div class="flex justify-between items-start mb-6">
<h3 class="text-xl font-mono text-accent-cyan">Digital (Screen)</h3>
<span class="text-[10px] border border-white/20 px-2 py-1 rounded text-white/50">ADDITIVE</span>
</div>
<div class="aspect-video bg-black rounded border border-gray-800 relative overflow-hidden mb-4 group">
<div class="absolute inset-0 grid grid-cols-[repeat(20,1fr)] grid-rows-[repeat(10,1fr)] opacity-20">
<div class="bg-red-500 rounded-full w-[2px] h-[2px] m-auto"></div>
</div>
<div class="absolute inset-0 flex items-center justify-center">
<div class="w-24 h-24 bg-purple-600 rounded-full blur-2xl mix-blend-screen animate-pulse"></div>
<div class="relative z-10 flex gap-1">
<div class="w-8 h-16 bg-red-600 rounded-full shadow-[0_0_15px_red]"></div>
<div class="w-8 h-16 bg-black border border-gray-800 rounded-full opacity-20"></div>
<div class="w-8 h-16 bg-blue-600 rounded-full shadow-[0_0_15px_blue]"></div>
</div>
</div>
</div>
<p class="text-xs text-white/50 font-mono">
    // Light is emitted.<br/>
    // Red Pixel (ON) + Blue Pixel (ON) = Magenta/Purple perception.
</p>
</div>
<div class="glass-panel p-6 rounded-2xl border border-white/5 relative bg-[#f0f0f0]/5">
<div class="flex justify-between items-start mb-6">
<h3 class="text-xl font-mono text-accent-magenta">Physical (Pigment)</h3>
<span class="text-[10px] border border-white/20 px-2 py-1 rounded text-white/50">SUBTRACTIVE</span>
</div>
<div class="aspect-video bg-white/10 rounded border border-white/10 relative overflow-hidden mb-4 flex items-center justify-center">
<div class="relative w-32 h-32">
<div class="absolute top-0 left-0 w-20 h-20 bg-cyan-400 rounded-full mix-blend-multiply opacity-80"></div>
<div class="absolute top-0 right-0 w-20 h-20 bg-magenta-500 rounded-full mix-blend-multiply opacity-80"></div>
<div class="absolute bottom-0 left-1/2 -translate-x-1/2 w-20 h-20 bg-yellow-400 rounded-full mix-blend-multiply opacity-80"></div>
</div>
</div>
<p class="text-xs text-white/50 font-mono">
    // Light is absorbed.<br/>
    // Pigment absorbs Green wavelengths, reflecting Red &amp; Blue back to the eye.
</p>
</div>
</div>
</div>

<!-- Purple Earth -->
<div class="w-full max-w-4xl mt-12 mb-12 relative">
<div class="absolute inset-0 bg-primary/5 rounded-[3rem] blur-3xl -z-10"></div>
<div class="flex flex-col md:flex-row gap-10 items-center">
<div class="flex-1">
<h2 class="text-4xl font-bold mb-4 text-glow">The Purple Earth Hypothesis</h2>
<p class="text-white/70 text-lg leading-relaxed mb-6">
    Before plants turned the Earth green with chlorophyll, scientists believe ancient oceans were dominated by microbes that used <span class="text-primary font-bold">retinal</span>. 
    These organisms absorbed green light (the most abundant from the sun) and reflected red and violet light, making the early Earth look purple from space.
</p>
<div class="flex gap-4">
<span class="px-3 py-1 rounded-full border border-primary/30 text-primary text-xs font-bold uppercase">Archaea</span>
<span class="px-3 py-1 rounded-full border border-primary/30 text-primary text-xs font-bold uppercase">Retinal</span>
</div>
</div>
<div class="w-full md:w-80 h-80 relative flex items-center justify-center">
<div class="absolute w-64 h-64 bg-primary/20 rounded-full blur-3xl animate-pulse"></div>
<div class="absolute top-10 left-10 w-20 h-20 bg-purple-500/40 rounded-full backdrop-blur-md border border-purple-300/20 microbe flex items-center justify-center shadow-[0_0_15px_rgba(168,85,247,0.4)]">
<div class="w-12 h-8 border border-white/20 rounded-full"></div>
</div>
<div class="absolute bottom-16 right-10 w-24 h-24 bg-fuchsia-600/30 rounded-full backdrop-blur-md border border-fuchsia-300/20 microbe flex items-center justify-center shadow-[0_0_20px_rgba(192,38,211,0.4)]" style="animation-delay: -2s; animation-duration: 12s;">
<div class="w-16 h-10 border border-white/20 rounded-full rotate-45"></div>
</div>
<div class="absolute bottom-4 left-20 w-12 h-12 bg-indigo-500/40 rounded-full backdrop-blur-md border border-indigo-300/20 microbe shadow-[0_0_10px_rgba(99,102,241,0.4)]" style="animation-delay: -5s;"></div>
<div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMSIgY3k9IjEiIHI9IjEiIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4yKSIvPjwvc3ZnPg==')] opacity-50"></div>
</div>
</div>
</div>

<!-- SIMPLE EXPERIMENT SECTION -->
<section id="simple-experiment" class="w-full max-w-4xl mt-6 mb-12">
  <div class="glass-panel p-8 rounded-3xl">
    <div class="flex items-center justify-between mb-4">
      <div>
        <h3 class="text-2xl font-bold">Simple Experiment — Mix Red + Blue</h3>
        <p class="text-white/60 text-sm">Use sliders to mix red and blue light — watch purple appear. Try copying the hex and reading the short explanation.</p>
      </div>
      <div class="flex gap-2 items-center">
        <button id="copy-hex" class="px-3 py-1 rounded bg-white/5 text-xs">Copy Hex</button>
      </div>
    </div>

    <div id="experiment-controls" class="grid grid-cols-1 md:grid-cols-3 gap-6 items-center">
      <div class="col-span-2 space-y-4">
        <div>
          <label class="text-xs text-white/60">Red channel</label>
          <input id="red-slider" type="range" min="0" max="255" value="145" />
          <div class="text-xs text-white/60">Value: <span id="red-value">145</span></div>
        </div>
        <div>
          <label class="text-xs text-white/60">Blue channel</label>
          <input id="blue-slider" type="range" min="0" max="255" value="210" />
          <div class="text-xs text-white/60">Value: <span id="blue-value">210</span></div>
        </div>
      </div>

      <div class="col-span-1 flex flex-col items-center gap-4">
        <div id="color-preview" class="w-36 h-36 rounded-xl border border-white/10 shadow-inner"></div>
        <div class="text-sm text-white/70 font-mono" id="hex-output">#8B00D2</div>
        <div class="text-xs text-white/50 italic text-center" id="mix-note">If both red & blue are present and green is low, your brain will see purple.</div>
      </div>
    </div>
  </div>
</section>

<!-- Two-word generator & color meditation -->




</div>
</main>

<footer class="w-full flex justify-center py-8 z-10 border-t border-white/5 bg-[#0a0112]/80 backdrop-blur-sm">
<div class="layout-content-container flex flex-col max-w-[960px] w-full px-8">
<div class="flex flex-col md:flex-row items-center justify-between gap-6">
<p class="text-white/30 text-sm font-light">© 2026 Amethystiee By Sanduni Basnayaka - Built with obsession for purple.</p>
<div class="flex gap-6">
<a class="text-white/30 hover:text-primary transition-colors" href="https://github.com/Sbasnayaka/Amethystiee.git"><span class="material-symbols-outlined text-xl">code</span></a>
<a class="text-white/30 hover:text-primary transition-colors" href="Itsmesanduni@icloud.com"><span class="material-symbols-outlined text-xl">alternate_email</span></a>
<a class="text-white/30 hover:text-primary transition-colors" href="https://www.linkedin.com/in/s-basnayaka"><span class="material-symbols-outlined text-xl">work</span></a>
</div>
</div>
</div>
</footer>
</div>

<!-- Essay Modal -->
<div id="essay-modal-backdrop" class="modal-backdrop" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="essay-title">
  </div>
</div>

<!-- Toast -->
<div id="toast" class="toast" role="status" aria-live="polite"></div>

<script>
/* ========= Utilities ========= */
function $(sel){ return document.querySelector(sel); }
function $all(sel){ return Array.from(document.querySelectorAll(sel)); }
function showToast(msg, ms=1600){
  const t = document.getElementById('toast');
  if(!t) return;
  t.textContent = msg;
  t.style.display = 'block';
  setTimeout(()=> t.style.display = 'none', ms);
}

/* ========= Essay Modal Handlers ========= */
const essayBtn = document.getElementById('btn-read-essay');
const essayBackdrop = document.getElementById('essay-modal-backdrop');
const essayClose = document.getElementById('close-essay');
if(essayBtn){
  essayBtn.addEventListener('click', ()=> {
    essayBackdrop.style.display = 'flex';
    essayBackdrop.setAttribute('aria-hidden','false');
    // focus for a11y
    essayClose.focus();
  });
}
if(essayClose){
  essayClose.addEventListener('click', ()=> {
    essayBackdrop.style.display = 'none';
    essayBackdrop.setAttribute('aria-hidden','true');
  });
}
essayBackdrop.addEventListener('click', (e) => {
  if(e.target === essayBackdrop){
    essayBackdrop.style.display = 'none';
    essayBackdrop.setAttribute('aria-hidden','true');
  }
});
document.addEventListener('keydown', (e) => {
  if(e.key === 'Escape' && essayBackdrop.style.display === 'flex'){
    essayBackdrop.style.display = 'none';
    essayBackdrop.setAttribute('aria-hidden','true');
  }
});

/* ========= Simple Experiment: red + blue mixer ========= */
const redSlider = document.getElementById('red-slider');
const blueSlider = document.getElementById('blue-slider');
const redValue = document.getElementById('red-value');
const blueValue = document.getElementById('blue-value');
const colorPreview = document.getElementById('color-preview');
const hexOutput = document.getElementById('hex-output');
const copyHexBtn = document.getElementById('copy-hex');

function toHex(v){ 
  const h = Number(v).toString(16).padStart(2,'0').toUpperCase();
  return h;
}
function updatePreview(){
  const r = parseInt(redSlider.value,10);
  const b = parseInt(blueSlider.value,10);
  const g = 0; // keep green low to simulate purple perception
  redValue.textContent = r;
  blueValue.textContent = b;
  const hex = '#' + toHex(r) + toHex(g) + toHex(b);
  hexOutput.textContent = hex;
  colorPreview.style.background = `rgb(${r}, ${g}, ${b})`;
  // If both channels strong, give note
  const note = document.getElementById('mix-note');
  if(r > 80 && b > 80){
    note.textContent = 'Your brain will likely perceive purple when both red and blue are active.';
  } else if (r > b){
    note.textContent = 'More red-dominant. Toward magenta if blue present.';
  } else if (b > r){
    note.textContent = 'More blue-dominant; closer to violet spectrum if true blue wavelengths present.';
  } else {
    note.textContent = 'Adjust sliders to see purple appear when both red and blue are present.';
  }
}
if(redSlider && blueSlider){ 
  updatePreview();
  redSlider.addEventListener('input', updatePreview);
  blueSlider.addEventListener('input', updatePreview);
  copyHexBtn.addEventListener('click', ()=> {
    const txt = hexOutput.textContent;
    navigator.clipboard.writeText(txt).then(()=> showToast('Hex copied')).catch(()=> showToast('Could not copy'));
  });
}

/* ========= Two-word generator ========= */
const genBtn = document.getElementById('generate-btn');
const warmInput = document.getElementById('warm-input');
const coolInput = document.getElementById('cool-input');
const twoOutput = document.getElementById('two-word-output');
if(genBtn){
  genBtn.addEventListener('click', ()=> {
    const a = (warmInput.value || 'Warm').trim();
    const b = (coolInput.value || 'Cool').trim();
    const line = `${a} meets ${b} — where color becomes thought.`;
    twoOutput.textContent = line;
  });
  // Enter key on inputs
  [warmInput,coolInput].forEach(inp => inp.addEventListener('keypress',(e)=>{ if(e.key === 'Enter'){ genBtn.click(); } }));
}

/* ========= Color Meditation: breathing visuals ========= */
const breathBtn = document.getElementById('btn-color-meditation');
const breathCircle = document.getElementById('breath-circle');
let breathRunning = false;
if(breathBtn && breathCircle){
  breathBtn.addEventListener('click', ()=>{
    breathRunning = !breathRunning;
    if(breathRunning){
      breathCircle.classList.add('breath-animate');
      breathBtn.textContent = 'Stop';
      showToast('Breathing started');
    } else {
      breathCircle.classList.remove('breath-animate');
      breathBtn.textContent = 'Begin';
      showToast('Breathing stopped');
    }
  });
}

/* ========= Save Draft (journal) ========= */
const saveBtn = document.getElementById('save-draft');
const clearBtn = document.getElementById('clear-draft');
const journalText = document.getElementById('journal-text');
const journalKey = 'visible_spectrum_journal_v1';
function loadDraft(){
  try {
    const data = localStorage.getItem(journalKey);
    if(data && journalText) journalText.value = data;
  } catch(e){}
}
if(saveBtn && journalText){
  saveBtn.addEventListener('click', ()=>{
    localStorage.setItem(journalKey, journalText.value || '');
    showToast('Draft saved locally');
  });
}
if(clearBtn && journalText){
  clearBtn.addEventListener('click', ()=>{
    if(confirm('Clear saved draft?')){
      journalText.value = '';
      localStorage.removeItem(journalKey);
      showToast('Draft cleared');
    }
  });
}
loadDraft();

/* ========= Buttons for navigation / experiment scroll ========= */
const btnExperiment = document.getElementById('btn-experiment');
const btnReflect = document.getElementById('btn-reflect');
if(btnExperiment){
  btnExperiment.addEventListener('click', ()=> {
    const el = document.getElementById('simple-experiment');
    if(el) el.scrollIntoView({behavior:'smooth', block:'center'});
  });
}
if(btnReflect){
  btnReflect.addEventListener('click', ()=> {
    const el = document.getElementById('journal-text');
    if(el) el.scrollIntoView({behavior:'smooth', block:'center'}), el.focus();
  });
}

/* ========= Accessibility: keyboard for modal and global escape ========= */
document.addEventListener('keydown', (e)=>{
  if(e.key === 'Escape'){
    if(essayBackdrop.style.display === 'flex'){
      essayBackdrop.style.display = 'none';
      essayBackdrop.setAttribute('aria-hidden','true');
    }
  }
});

/* ========= Ensure initial preview update ========= */
updatePreview();

/* End script */
</script>
</body></html>
